
  <div class="grid-row wx-qpf-periods"> 
    <div class="grid-col-12"> 
      <h5 class="wx-mono-lg text-normal text-primary-dark margin-top-0 margin-bottom-105">{{ "Precipitation amounts" |t }}</h5>
    </div>
  </div>

  {% set times = precipHours.periods | map(p => p.start ~ "-" ~ p.end) | json_encode %}
  {% set liquid = precipHours.periods | map(p => p.liquid) | json_encode %}
  {% set snow = '[]' %}
  {% set ice = '[]' %}
  {% set liquidTitle = 'Rain' | t %}
  
  {% if precipHours.hasSnow %}
    {% set snow = precipHours.periods | map(p => p.snow) | json_encode %}
    {% set liquidTitle = 'Water' | t %}
  {% endif %}
  {% if precipHours.hasIce %}
    {% set ice = precipHours.periods | map(p => p.ice) | json_encode %}
    {% set liquidTitle = 'Water' | t %}
  {% endif %}


  <div class="grid-row grid-col-12">
    <div class="grid-col-12 tablet:grid-col-6 tablet:padding-right-1">
      <table class="usa-table usa-table--borderless wx-precip-table margin-y-0 width-full">
        <caption class="usa-sr-only">{{ "precipitation amounts for the coming hours" | t }}</caption>
        <thead>
          <tr>
            <th scope="col">{{ "Time Period" | t }}</th>
            {% if precipHours.hasSnow %}
            <th scope="col">{{ "Snow" | t }}</th>
            {% endif %}
            {% if precipHours.hasIce %}
            <th scope="col">{{ "Ice" | t }}</th>
            {% endif %}
            {% if precipHours.hasSnow or precipHours.hasIce %}
            <th aria-hidden="true"></th>
            {% endif %}
            <th scope="col">{{ liquidTitle }}</th>
          </tr>
        </thead>

        <tbody>
          {% for hour in precipHours.periods %}
            <tr>
              <td class="font-family-mono font-mono-xs text-base text-ls-neg-3">{{ hour.start }}&emsp13;â€“&emsp13;{{ hour.end }}</td>
              {% if precipHours.hasSnow %}
              <td class="text-align-left">{{ hour.snow }}{{ '"' | t }}</td>
              {% endif %}
              {% if precipHours.hasIce %}
              <td class="text-align-left">{{ hour.ice }}{{ '"' | t }}</td>
              {% endif %}
              {% if precipHours.hasSnow or precipHours.hasIce %}
              <td aria-hidden="true"></td>
              {% endif %}
              <td class="text-align-left">{{ hour.liquid }}{{ '"' | t }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    {% if precipHours.hasIce or precipHours.hasSnow %}
      <div class="grid-col-12 tablet:grid-col-6 tablet:padding-left-1">
        <p class="bg-base-lightest padding-105">
          {{
            "\"Water\" refers to the amount of water that is present in the precipitation.
            The precipitation may actually fall in solid form such as ice or snow, in
            liquid form as rain, or a mix of both." | t
          }}
        </p>
      </div>
    {% endif %}
  </div>
